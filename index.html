<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Shree Mahakali Dairy</title>
    <link rel="stylesheet" href="style.css?v=1.2">
</head>
<body>
    <header>
        <div class="header-content">
            <div class="header-text">
                <h1>Shree Mahakali Dairy</h1>
                <p>Experience the finest in traditional Indian sweets, fresh dairy products, and savory namkeen. Crafted with love, our treats bring you the authentic flavors of India, perfect for any occasion.</p>
                <p><strong>Owner:</strong> Balwantsingh Deora | <strong>Contact:</strong> +91 98986 16260</p>
            </div>
            <div class="logo">
                <img src="images/smd.jpg" alt="Shree Mahakali Dairy Logo" />
            </div>
        </div>
    </header>
    
    <main id="product-categories">
        <!-- Categories and products will be inserted here by JavaScript -->
    </main>

    <footer>
        <p>&copy; 2024 Shree Mahakali Dairy. All rights reserved.</p>
    </footer>

    <script>
        fetch('products.json')
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.json();
            })
            .then(products => {
                const productCategories = document.getElementById('product-categories');
                const categories = {
                    'Sweets': products.filter(product => product.category.toLowerCase().includes('sweet')),
                    'Dairy': products.filter(product => product.category.toLowerCase().includes('dairy'))
                };

                for (const [category, categoryProducts] of Object.entries(categories)) {
                    if (categoryProducts.length > 0) {
                        const categorySection = document.createElement('section');
                        categorySection.className = 'category-section';
                        categorySection.innerHTML = `<h2>${category}</h2>`;

                        const productList = document.createElement('div');
                        productList.className = 'product-list';

                        categoryProducts.forEach(product => {
                            const productItem = document.createElement('div');
                            productItem.className = 'product-item';
                            productItem.innerHTML = `
                                <img src="${product.image}" alt="${product.name}">
                                <h3>${product.name}</h3>
                                <p>${product.description}</p>
                                <p class="price">Price: ${product.price}</p>
                            `;
                            productList.appendChild(productItem);
                        });

                        categorySection.appendChild(productList);
                        productCategories.appendChild(categorySection);
                    }
                }
            })
            .catch(error => console.error('Error fetching product data:', error));
    </script>
</body>
</html>